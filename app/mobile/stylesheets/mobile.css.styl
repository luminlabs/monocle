@import './mixins'

html {
  overflow: hidden
  height: 100%
}

body {
  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif
  font-size: 16px
  margin: 0
  padding: 0
  height: 100%
  background-color: #fff
  overflow: hidden
  position: relative
  word-wrap: break-word
  -webkit-text-size-adjust: none
}

@keyframes slideouttoleft {
  from { transform: translateX(0) }
  to { transform: translateX(-100%) }
}

@keyframes slideouttoright {
  from { transform: translateX(0) }
  to { transform: translateX(100%) }
}

@keyframes slideinfromleft {
  from { transform: translateX(-100%) }
  to { transform: translateX(0) }
}

@keyframes slideinfromright {
  from { transform: translateX(100%) }
  to { transform: translateX(0) }
}

@keyframes activity-indicator {
  0% { background-position: 0 0; }
  8.33% { background-position: 0 -20px; }
  16.67% { background-position: 0 -40px; }
  25% { background-position: 0 -60px; }
  33.33% { background-position: 0 -80px; }
  41.67% { background-position: 0 -100px; }
  50% { background-position: 0 -120px; }
  58.33% { background-position: 0 -140px; }
  66.67% { background-position: 0 -160px; }
  75% { background-position: 0 -180px; }
  83.33% { background-position: 0 -200px; }
  91.67% { background-position: 0 -220px; }
  100% { background-position: 0 0; }
}

.mobile {
  * {
    -webkit-tap-highlight-color: rgba(0,0,0,0)
  }

  .view {
    position: fixed
    width: 100%
    height: 100%
    display: -webkit-box
    display: box
    -webkit-box-orient: vertical
    box-orient: vertical
    -webkit-user-select: none
  }

  .view > header {
    background: #FFF
    height: 44px
    line-height: 44px
    width: 100%
    color: #fff
    position: relative
    -webkit-user-select: none
    -webkit-touch-callout: none
  }

  .view > header h1 {
    padding: 0
    text-align: center
    font-size: 20px
    color: #D32626
    font-weight: normal

    margin: 0 auto
    white-space: nowrap
    text-overflow: ellipsis
    overflow: hidden
    pointer-events: none
    max-width: 190px
  }

  .view > header:after {
    content: ''
    display: block
    overflow: hidden
    position: absolute
    bottom: 0
    width: 100%
    height: 2px
    pointer-events: none
    background: #FFF
    box-shadow: #D7E1E7 0 -1px 0 inset, rgba(0,0,0,0.05) 0 1px 1px
    transform: translate3d(0,0,0)
    z-index: 100
  }

  .view > .scroll {
    -webkit-box-flex: 1
    box-flex: 1
    overflow: auto
    -webkit-overflow-scrolling: touch
    background-color: #fff
    display: -webkit-box
    display: box
    -webkit-box-orient: vertical
    box-orient: vertical
    height: 100%
    position: relative
  }

  .view > .scroll > section {
    -webkit-box-flex: 1
    box-flex: 1
    -webkit-overflow-scrolling: touch
    overflow: auto
  }

  .tableview {
    margin: 0
    padding: 0
    list-style: none
    background-color: #fff
  }

  .tableview li {
    display: block
    box-shadow: #D7E1E7 0 -1px 0 inset
    padding: 10px
  }

  .tableview-links li {
    padding: 0
    display: -webkit-box
    display: box
    width: 100%

    font-size: 15px
    line-height: 1.3em
    color: #000
    -webkit-tap-highlight-color: rgba(0,0,0,0)
  }

  .tableview-links li.active,
  .tableview-links li.tappable-active {
    background-color: #f5f7fa
  }

  .tableview-links li > a {
    display: block
    padding: 10px
    text-decoration: none
    width: 100%
    box-flex: 1
    box-sizing: border-box
  }

  .tableview-links li > a.more {
    -webkit-touch-callout: none
    padding: 0
    width: 44px
    box-flex: 0

    display: -webkit-box
    box-pack: center
    box-align: center

    span {
      display: block
      width: 29px
      height: 31px
      background-size: 29px 31px
      line-height: 31px

      background-repeat: no-repeat
      background-position: center center
      background-image: url('/mobile/rarrow@2x.png')
      background-size: 10px 17px
    }
  }

  .tableview-links li > a:visited {
    color: #666
  }

  .tableview-links li > a * {
    pointer-events: none
  }

  // Header buttons

  .header-button {
    position: absolute;
    top: 0;
    padding: 7px 5px;
    -webkit-tap-highlight-color: rgba(0,0,0,0);
    line-height: 1em;
  }

  .header-button button {
    pointer-events: none;
    box-sizing: border-box;
    height: 30px;
    line-height: 30px;
    text-align: center;
    border: none
    background-color: transparent;
    padding: 0 10px;
    margin: 0;
    text-decoration: none;
  }

  .header-button-left{
    left: 0;
  }

  .header-back-button button {
    width: 31px
    background-repeat: no-repeat
    background-position: center center
    background-image: url('/mobile/larrow@2x.png')
    background-size: 10px 17px
  }

  // Transitions

  .view {
    animation-timing-function: ease-in-out;
    animation-duration: 350ms;

    &:not(.active) {
      position: fixed
      top: -9999px
      left: -9999px
      pointer-events: none
    }
  }

  .slide {
    pointer-events: none
  }

  .slide-out-to-left {
    animation-name: slideouttoleft
  }

  .slide-out-to-right {
    animation-name: slideouttoright
  }

  .slide-in-from-left {
    animation-name: slideinfromleft
  }

  .slide-in-from-right {
    animation-name: slideinfromright
  }

  // Pending

  .activity-indicator {
    position: absolute;
    top: 45%;
    left: 50%;
    height: 20px;
    width: 20px;
    margin: -10px 0 0 -10px

    user-select: none;
    pointer-events: none;

    background: transparent url(/mobile/ios/activity-indicator.png) no-repeat;
    background-size: 20px auto;
    animation: activity-indicator 1s step-start infinite;
  }
}